(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{30:function(e,t,a){},35:function(e,t,a){e.exports=a(69)},62:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(31),c=a.n(i),s=a(3),r=a(4),o=a(6),m=a(5),u=a(12),d=a(1),g=a(16),h=a(13),v=a(10),b=a.n(v),p=a(32),E=a.n(p),f=(a(62),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this))._baseURL="",e.getData=function(){console.log("before fetch data"),fetch("/data").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({list:t})})),console.log("after fetch data")},e.onDelete=function(t){if(window.confirm("You can Delete ".concat(t.firstname," ").concat(t.lastname," ?"))){var a="".concat(e._baseURL,"/delete"),n={id:t.id};b.a.put(a,n),e.componentDidMount()}},e.call=function(t){e.openModal(t),e.setState({id:t.id,firstname:t.firstname,lastname:t.lastname,phonenum:t.phonenum,regisTime:t.regisTime,Regisby:t.Regisby,province:t.province,district:t.district,subdistrict:t.subdistrict,village:t.village})},e.handleChang=function(t){switch(e.setState(Object(g.a)({},t.target.id,t.target.value)),t.target.id){case"province":e.getDistricts(t.target.value),e.state.list_subdistrict=[],e.state.list_village=[],document.getElementById("district").disabled="0"===t.target.value,document.getElementById("subdistrict").disabled=!0,document.getElementById("village").disabled=!0;break;case"district":e.getSubDistricts(t.target.value),e.state.list_village=[],document.getElementById("subdistrict").disabled="0"===t.target.value,document.getElementById("village").disabled=!0;break;case"subdistrict":e.getVillage(t.target.value),document.getElementById("village").disabled="0"===t.target.value}},e.getDateTimeFormatted=function(e){var t=new Date(e),a=t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),n=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return"".concat(a," ").concat(n)},e.state={list:[],list_province:[],list_district:[],list_subdistrict:[],list_village:[],id:0,firstname:"",lastname:"",Regisby:"",phonenum:"",date_on:"",province:"",district:"",subdistrict:"",village:""},e.handleChang=e.handleChang.bind(Object(h.a)(e)),e.handleClicked=e.handleClicked.bind(Object(h.a)(e)),e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.getData()}),1)}},{key:"getProvinces",value:function(){var e=this;b.a.get("/provinces").then((function(t){e.setState((function(){return{list_province:t.data}}))}))}},{key:"getDistricts",value:function(e){var t=this;b.a.get("/districts?provinceId=".concat(e)).then((function(e){t.setState((function(){return{list_district:e.data}}))}))}},{key:"getSubDistricts",value:function(e){var t=this;b.a.get("/subdistricts?districtId=".concat(e)).then((function(e){t.setState((function(){return{list_subdistrict:e.data}}))}))}},{key:"getVillage",value:function(e){var t=this;b.a.get("/villages?subdistrictId=".concat(e)).then((function(e){t.setState((function(){return{list_village:e.data}}))}))}},{key:"openModal",value:function(e){this.getProvinces(),this.getDistricts(e.provinceId),this.getSubDistricts(e.districtId),this.getVillage(e.subdistrictId),this.setState({visible:!0})}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"handleClicked",value:function(){var e=this,t="".concat(this._baseURL,"/data"),a={id:this.state.id,firstname:this.state.firstname,lastname:this.state.lastname,phonenum:this.state.phonenum,province:this.state.province,district:this.state.district,subdistrict:this.state.subdistrict,village:this.state.village};b.a.put(t,a),this.setState({id:0,firstname:"",lastname:"",phonenum:"",regisTime:"",province:"",district:"",subdistrict:"",village:""}),this.closeModal(),setTimeout((function(){e.componentDidMount()}),1)}},{key:"render",value:function(){var e=this,t=this.state.list;return l.a.createElement("div",{className:"App"},l.a.createElement("h2",{className:"my-4"},"Users Information ",l.a.createElement("div",null,"Total ",this.state.list.length," Item")),l.a.createElement("hr",null),l.a.createElement("div",{className:"container p-3 my-3 bg-light text-black"},l.a.createElement("table",{className:"table table-light"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Detail"),l.a.createElement("th",null,"Create By"),l.a.createElement("th",null,"Update on"),l.a.createElement("th",null,"Manage Menu"))),l.a.createElement("tbody",null,t.map((function(t){return l.a.createElement("tr",null,l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.firstname," ",t.lastname),l.a.createElement("td",null,l.a.createElement("ul",{className:"text-left"},l.a.createElement("li",null,l.a.createElement("b",null,"Phone:")," ",t.phonenum),l.a.createElement("li",null,l.a.createElement("b",null,"Village:")," ",t.villageName),l.a.createElement("li",null,l.a.createElement("b",null,"Sub-District:")," ",t.subdistrictName),l.a.createElement("li",null,l.a.createElement("b",null,"District:")," ",t.districtName),l.a.createElement("li",null,l.a.createElement("b",null,"Province:")," ",t.provinceName))),l.a.createElement("td",null,t.Regisby),l.a.createElement("td",null,e.getDateTimeFormatted(t.regisTime)),l.a.createElement("td",null,l.a.createElement("button",{type:"button",class:"btn btn-warning m-2",onClick:function(){return e.call(t)}},"Edit"),l.a.createElement("button",{type:"button",class:"btn btn-danger m-2",onClick:function(){return e.onDelete(t)}},"Delete")),l.a.createElement("div",{className:"box"},l.a.createElement(E.a,{visible:e.state.visible,width:"1200",height:"600",effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},l.a.createElement("form",{className:"container",id:"form"},l.a.createElement("div",{className:"form-group"},l.a.createElement("h3",null,l.a.createElement("label",{htmlFor:"id"},"ID: ",e.state.id,l.a.createElement("br",null)))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Firstname:"),l.a.createElement("input",{type:"text",className:"form-control",id:"firstname",onChange:e.handleChang,value:e.state.firstname}))),l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Lastname:"),l.a.createElement("input",{type:"text",className:"form-control",id:"lastname",onChange:e.handleChang,value:e.state.lastname})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Phone:"),l.a.createElement("input",{type:"text",className:"form-control",id:"phonenum",onChange:e.handleChang,value:e.state.phonenum})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Village"),l.a.createElement("select",{className:"form-control",id:"village",onChange:e.handleChang},l.a.createElement("option",{value:0}),e.state.list_village.map((function(t){return l.a.createElement("option",{value:t.villageId,selected:t.villageId==e.state.village},t.villageName)}))))),l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Sub-District"),l.a.createElement("select",{className:"form-control",id:"subdistrict",onChange:e.handleChang},l.a.createElement("option",{value:0}),e.state.list_subdistrict.map((function(t){return l.a.createElement("option",{value:t.subdistrictId,selected:t.subdistrictId==e.state.subdistrict},t.subdistrictName)}))))),l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"District"),l.a.createElement("select",{className:"form-control",id:"district",onChange:e.handleChang},l.a.createElement("option",{value:0}),e.state.list_district.map((function(t){return l.a.createElement("option",{value:t.districtId,selected:t.districtId==e.state.district},t.districtName)}))))),l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Province"),l.a.createElement("select",{className:"form-control",id:"province",onChange:e.handleChang},l.a.createElement("option",{value:0}),e.state.list_province.map((function(t){return l.a.createElement("option",{value:t.provinceId,selected:t.provinceId==e.state.province},t.provinceName)})))))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"id"},"Create By: ",e.state.Regisby,l.a.createElement("br",null))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"id"},"Update on: ",e.getDateTimeFormatted(e.state.regisTime),l.a.createElement("br",null))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.handleClicked},"Save")))))}))))),l.a.createElement("br",null))}}]),a}(n.Component)),N=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(u.b,{to:"./Register"}," ",l.a.createElement("button",{type:"button",className:"btn btn-primary"},"Register")," "))}}]),a}(n.Component),y=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(u.b,{to:"./Showdata"}," ",l.a.createElement("button",{type:"button",className:"btn btn-primary"},"showdata")))}}]),a}(n.Component),C=a(34),I=a.n(C),k=(a(30),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e))._baseURL="",n.handleChang=function(e){switch(n.setState(Object(g.a)({},e.target.id,e.target.value)),e.target.id){case"province":n.getDistricts(e.target.value),n.state.list_subdistrict=[],n.state.list_village=[],document.getElementById("district").disabled="0"===e.target.value,document.getElementById("subdistrict").disabled=!0,document.getElementById("village").disabled=!0;break;case"district":n.getSubDistricts(e.target.value),n.state.list_village=[],document.getElementById("subdistrict").disabled="0"===e.target.value,document.getElementById("village").disabled=!0;break;case"subdistrict":n.getVillage(e.target.value),document.getElementById("village").disabled="0"===e.target.value}},n.state={list_province:[],list_district:[],list_subdistrict:[],list_village:[],firstname:"",lastname:"",phonenum:"",Regisby:"",province:"",district:"",subdistrict:"",village:""},n.handleChang=n.handleChang.bind(Object(h.a)(n)),n.handleClicked=n.handleClicked.bind(Object(h.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){document.getElementById("district").disabled=!0,document.getElementById("subdistrict").disabled=!0,document.getElementById("village").disabled=!0,this.getProvinces()}},{key:"getProvinces",value:function(){var e=this;b.a.get("/provinces").then((function(t){e.setState((function(){return{list_province:t.data}}))}))}},{key:"getDistricts",value:function(e){var t=this;b.a.get("/districts?provinceId=".concat(e)).then((function(e){t.setState((function(){return{list_district:e.data}}))}))}},{key:"getSubDistricts",value:function(e){var t=this;b.a.get("/subdistricts?districtId=".concat(e)).then((function(e){t.setState((function(){return{list_subdistrict:e.data}}))}))}},{key:"getVillage",value:function(e){var t=this;b.a.get("/villages?subdistrictId=".concat(e)).then((function(e){t.setState((function(){return{list_village:e.data}}))}))}},{key:"handleClicked",value:function(){var e=JSON.parse(localStorage.getItem("user")),t="".concat(this._baseURL,"/data"),a={id:this.state.id,firstname:this.state.firstname,lastname:this.state.lastname,phonenum:this.state.phonenum,"Regis-by":e.email,province:this.state.province,district:this.state.district,subdistrict:this.state.subdistrict,village:this.state.village};console.log(a),b.a.post(t,a),this.setState({firstname:"",lastname:"",phonenum:"",province:"",district:"",subdistrict:"",village:""}),this.props.history.push("/Showdata")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"App"},l.a.createElement("h2",{className:"my-4"},"Register",l.a.createElement("br",null)),l.a.createElement("hr",null)),l.a.createElement("form",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-white"},"Name"),l.a.createElement("input",{type:"text",className:"form-control",id:"firstname",onChange:this.handleChang,value:this.state.firstname}))),l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-white"},"Lastname"),l.a.createElement("input",{type:"text",className:"form-control",id:"lastname",onChange:this.handleChang,value:this.state.lastname})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-white"},"Phone"),l.a.createElement("input",{type:"text",className:"form-control",id:"phonenum",onChange:this.handleChang,value:this.state.phonenum})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-white"},"Village"),l.a.createElement("select",{className:"form-control",id:"village",onChange:this.handleChang},l.a.createElement("option",{value:0}),this.state.list_village.map((function(e){return l.a.createElement("option",{value:e.villageId},e.villageName)}))))),l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-white"},"Subdistrict"),l.a.createElement("select",{className:"form-control",id:"subdistrict",onChange:this.handleChang},l.a.createElement("option",{value:0}),this.state.list_subdistrict.map((function(e){return l.a.createElement("option",{value:e.subdistrictId},e.subdistrictName)}))))),l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-white"},"District"),l.a.createElement("select",{className:"form-control",id:"district",onChange:this.handleChang},l.a.createElement("option",{value:0}),this.state.list_district.map((function(e){return l.a.createElement("option",{value:e.districtId},e.districtName)}))))),l.a.createElement("div",{className:"col-md"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"text-white"},"Province"),l.a.createElement("select",{className:"form-control",id:"province",onChange:this.handleChang},l.a.createElement("option",{value:0}),this.state.list_province.map((function(e){return l.a.createElement("option",{value:e.provinceId},e.provinceName)})))))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleClicked},"Save")))}}]),a}(n.Component));function S(e){var t=Object(d.f)();return l.a.createElement(k,Object.assign({},e,{history:t}))}var O=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={isLoggedIn:!1,userID:"",name:"",email:"",picture:""},e.responseFacebook=function(t){localStorage.setItem("user",JSON.stringify(t)),e.setState({isLoggedIn:!0,userID:t.userID,name:t.name,email:t.email,picture:t.picture.data.url})},e.componentClicked=function(){console.log("Login Facebook Successfuly")},e.logoutFacebook=function(){localStorage.removeItem("user"),e.setState({isLoggedIn:!1,userID:"",name:"",email:"",picture:""})},e}return Object(r.a)(a,[{key:"render",value:function(){var e;return e=null!==localStorage.getItem("user")?l.a.createElement("div",{style:{width:"95%",margin:"auto",background:"black",color:"white",padding:"25px",position:"absolute",zIndex:99,backgroundImage:"linear-gradient(45deg, rgba(218, 132, 230, 0.84) 0%, rgba(179, 0, 89, 1) 83%)"}},l.a.createElement("img",{src:JSON.parse(localStorage.getItem("user")).picture.data.url,alt:!0}),l.a.createElement("h2",null,"Welcome "," ",JSON.parse(localStorage.getItem("user")).name),"email: ",JSON.parse(localStorage.getItem("user")).email,l.a.createElement("div",{className:"my-3"},l.a.createElement("a",{className:"btn btn-danger",href:"/",onClick:this.logoutFacebook},"Logout")),l.a.createElement(u.a,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"btn-group btn-group-lg"},l.a.createElement(N,null),l.a.createElement(y,null)),l.a.createElement(d.c,null,l.a.createElement(d.a,{path:"/register",component:S}),l.a.createElement(d.a,{path:"/showdata",component:f})))):l.a.createElement("div",{style:{width:"400px",margin:"auto",padding:"25px"}},l.a.createElement(I.a,{appId:"670674757274101",autoLoad:!1,fields:"name,email,picture",onClick:this.componentClicked,callback:this.responseFacebook})),l.a.createElement("div",null,e)}}]),a}(n.Component),j=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"jumbotron mb-0 text-white bg",style:{height:"100%"}},l.a.createElement("h1",{className:"display-3 "},"Oat Welcome to React"),l.a.createElement("div",{className:"my-3"},l.a.createElement(O,null)),l.a.createElement("div",{className:"my-5"},l.a.createElement("img",{className:"logo",src:"https://cdn4.iconfinder.com/data/icons/logos-3/600/React.js_logo-512.png",alt:"",style:{height:"200px",width:"200px"}}),l.a.createElement("span",{className:"display-1 mx-5"},"+"),l.a.createElement("img",{className:"logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1280px-Node.js_logo.svg.png",alt:"",style:{height:"200px",width:"300px"}}))))}}]),a}(n.Component),_=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement(d.a,{path:"/",component:j}))}}]),a}(n.Component);a(68);c.a.render(l.a.createElement(_,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.9d7864e5.chunk.js.map