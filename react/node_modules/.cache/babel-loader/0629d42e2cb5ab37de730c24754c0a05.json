{"ast":null,"code":"import _defineProperty from\"/home/oat/dbms-fbedit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/oat/dbms-fbedit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/oat/dbms-fbedit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/oat/dbms-fbedit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/oat/dbms-fbedit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/oat/dbms-fbedit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);var _super=_createSuper(Register);function Register(props){var _this;_classCallCheck(this,Register);_this=_super.call(this,props);_this._baseURL='';_this.handleChang=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));switch(e.target.id){case'province':_this.getDistricts(e.target.value);_this.state.list_subdistrict=[];_this.state.list_village=[];document.getElementById('district').disabled=e.target.value===\"0\"?true:false;document.getElementById('subdistrict').disabled=true;document.getElementById('village').disabled=true;break;case'district':_this.getSubDistricts(e.target.value);_this.state.list_village=[];document.getElementById('subdistrict').disabled=e.target.value===\"0\"?true:false;document.getElementById('village').disabled=true;break;case'subdistrict':_this.getVillage(e.target.value);document.getElementById('village').disabled=e.target.value===\"0\"?true:false;break;}};_this.state={list_province:[],list_district:[],list_subdistrict:[],list_village:[],// idkey:\"\",\nfirstname:\"\",lastname:\"\",phonenum:\"\",Regisby:\"\",province:\"\",district:\"\",subdistrict:\"\",village:\"\"};_this.handleChang=_this.handleChang.bind(_assertThisInitialized(_this));_this.handleClicked=_this.handleClicked.bind(_assertThisInitialized(_this));return _this;}_createClass(Register,[{key:\"componentDidMount\",value:function componentDidMount(){document.getElementById('district').disabled=true;document.getElementById('subdistrict').disabled=true;document.getElementById('village').disabled=true;this.getProvinces();}},{key:\"getProvinces\",value:function getProvinces(){var _this2=this;axios.get('/provinces').then(function(res){_this2.setState(function(){return{list_province:res.data};});});}},{key:\"getDistricts\",value:function getDistricts(value){var _this3=this;axios.get(\"/districts?provinceId=\".concat(value)).then(function(res){_this3.setState(function(){return{list_district:res.data};});});}},{key:\"getSubDistricts\",value:function getSubDistricts(value){var _this4=this;axios.get(\"/subdistricts?districtId=\".concat(value)).then(function(res){_this4.setState(function(){return{list_subdistrict:res.data};});});}},{key:\"getVillage\",value:function getVillage(value){var _this5=this;axios.get(\"/villages?subdistrictId=\".concat(value)).then(function(res){_this5.setState(function(){return{list_village:res.data};});});}},{key:\"handleClicked\",value:function handleClicked(){var resLocalStorage=JSON.parse(localStorage.getItem('user'));var url=\"\".concat(this._baseURL,\"/data\");var data={id:this.state.id,firstname:this.state.firstname,lastname:this.state.lastname,phonenum:this.state.phonenum,'Regis-by':resLocalStorage.email,province:this.state.province,district:this.state.district,subdistrict:this.state.subdistrict,village:this.state.village};console.log(data);axios.post(url,data);this.setState({// user_id: \"\",\nfirstname:\"\",lastname:\"\",phonenum:\"\",province:\"\",district:\"\",subdistrict:\"\",village:\"\"});this.props.history.push('/Showdata');}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"my-4\"},\"Register\",/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(\"form\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-white\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"firstname\",onChange:this.handleChang,value:this.state.firstname}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-white\"},\"Lastname\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"lastname\",onChange:this.handleChang,value:this.state.lastname})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-white\"},\"Phone\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"phonenum\",onChange:this.handleChang,value:this.state.phonenum})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-white\"},\"Village\"),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",id:\"village\",onChange:this.handleChang},/*#__PURE__*/React.createElement(\"option\",{value:0}),this.state.list_village.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{value:item.villageId},item.villageName);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-white\"},\"Subdistrict\"),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",id:\"subdistrict\",onChange:this.handleChang},/*#__PURE__*/React.createElement(\"option\",{value:0}),this.state.list_subdistrict.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{value:item.subdistrictId},item.subdistrictName);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-white\"},\"District\"),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",id:\"district\",onChange:this.handleChang},/*#__PURE__*/React.createElement(\"option\",{value:0}),this.state.list_district.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{value:item.districtId},item.districtName);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-white\"},\"Province\"),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",id:\"province\",onChange:this.handleChang},/*#__PURE__*/React.createElement(\"option\",{value:0}),this.state.list_province.map(function(item){return/*#__PURE__*/React.createElement(\"option\",{value:item.provinceId},item.provinceName);}))))),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:this.handleClicked},\"Save\")));}}]);return Register;}(Component);export default function WithRouter(props){var history=useHistory();return/*#__PURE__*/React.createElement(Register,Object.assign({},props,{history:history}));}","map":{"version":3,"sources":["/home/oat/dbms-fbedit/react/src/register/Register.js"],"names":["React","Component","axios","useHistory","Register","props","_baseURL","handleChang","e","setState","target","id","value","getDistricts","state","list_subdistrict","list_village","document","getElementById","disabled","getSubDistricts","getVillage","list_province","list_district","firstname","lastname","phonenum","Regisby","province","district","subdistrict","village","bind","handleClicked","getProvinces","get","then","res","data","resLocalStorage","JSON","parse","localStorage","getItem","url","email","console","log","post","history","push","map","item","villageId","villageName","subdistrictId","subdistrictName","districtId","districtName","provinceId","provinceName","WithRouter"],"mappings":"82BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,GAEMC,CAAAA,Q,oGACF,kBAAYC,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EADe,MA8BnBC,QA9BmB,CA8BR,EA9BQ,OA4DnBC,WA5DmB,CA4DL,SAACC,CAAD,CAAO,CACjB,MAAKC,QAAL,oBACKD,CAAC,CAACE,MAAF,CAASC,EADd,CACmBH,CAAC,CAACE,MAAF,CAASE,KAD5B,GAIA,OAAOJ,CAAC,CAACE,MAAF,CAASC,EAAhB,EACI,IAAK,UAAL,CACI,MAAKE,YAAL,CAAkBL,CAAC,CAACE,MAAF,CAASE,KAA3B,EACA,MAAKE,KAAL,CAAWC,gBAAX,CAA8B,EAA9B,CACA,MAAKD,KAAL,CAAWE,YAAX,CAA0B,EAA1B,CACAC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,QAApC,CAA+CX,CAAC,CAACE,MAAF,CAASE,KAAT,GAAmB,GAAnB,CAAyB,IAAzB,CAAgC,KAA/E,CACAK,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,QAAvC,CAAkD,IAAlD,CACAF,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,QAAnC,CAA8C,IAA9C,CACA,MACJ,IAAK,UAAL,CACI,MAAKC,eAAL,CAAqBZ,CAAC,CAACE,MAAF,CAASE,KAA9B,EACA,MAAKE,KAAL,CAAWE,YAAX,CAA0B,EAA1B,CACAC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,QAAvC,CAAkDX,CAAC,CAACE,MAAF,CAASE,KAAT,GAAmB,GAAnB,CAAyB,IAAzB,CAAgC,KAAlF,CACAK,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,QAAnC,CAA8C,IAA9C,CACA,MACJ,IAAK,aAAL,CACI,MAAKE,UAAL,CAAgBb,CAAC,CAACE,MAAF,CAASE,KAAzB,EACAK,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,QAAnC,CAA8CX,CAAC,CAACE,MAAF,CAASE,KAAT,GAAmB,GAAnB,CAAyB,IAAzB,CAAgC,KAA9E,CACA,MAlBR,CAoBH,CArFkB,CAEf,MAAKE,KAAL,CAAa,CACTQ,aAAa,CAAE,EADN,CAETC,aAAa,CAAE,EAFN,CAGTR,gBAAgB,CAAE,EAHT,CAITC,YAAY,CAAE,EAJL,CAKT;AACAQ,SAAS,CAAE,EANF,CAOTC,QAAQ,CAAE,EAPD,CAQTC,QAAQ,CAAC,EARA,CASTC,OAAO,CAAE,EATA,CAUTC,QAAQ,CAAE,EAVD,CAWTC,QAAQ,CAAE,EAXD,CAYTC,WAAW,CAAE,EAZJ,CAaTC,OAAO,CAAE,EAbA,CAAb,CAeA,MAAKxB,WAAL,CAAmB,MAAKA,WAAL,CAAiByB,IAAjB,+BAAnB,CACA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBD,IAAnB,+BAArB,CAlBe,aAoBlB,C,kFAEmB,CAChBf,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,QAApC,CAA+C,IAA/C,CACAF,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,QAAvC,CAAkD,IAAlD,CACAF,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,QAAnC,CAA8C,IAA9C,CAEA,KAAKe,YAAL,GACH,C,mDAIc,iBACXhC,KAAK,CAACiC,GAAN,CAAU,YAAV,EACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACT,MAAI,CAAC5B,QAAL,CAAc,iBAAO,CAACa,aAAa,CAAEe,GAAG,CAACC,IAApB,CAAP,EAAd,EACH,CAHD,EAIH,C,kDAEY1B,K,CAAO,iBAChBV,KAAK,CAACiC,GAAN,iCAAmCvB,KAAnC,GACCwB,IADD,CACM,SAAAC,GAAG,CAAI,CACT,MAAI,CAAC5B,QAAL,CAAc,iBAAO,CAACc,aAAa,CAAEc,GAAG,CAACC,IAApB,CAAP,EAAd,EACH,CAHD,EAIH,C,wDAEe1B,K,CAAO,iBACnBV,KAAK,CAACiC,GAAN,oCAAsCvB,KAAtC,GACCwB,IADD,CACM,SAAAC,GAAG,CAAI,CACT,MAAI,CAAC5B,QAAL,CAAc,iBAAO,CAACM,gBAAgB,CAAEsB,GAAG,CAACC,IAAvB,CAAP,EAAd,EACH,CAHD,EAIH,C,8CAEU1B,K,CAAO,iBACdV,KAAK,CAACiC,GAAN,mCAAqCvB,KAArC,GACCwB,IADD,CACM,SAAAC,GAAG,CAAI,CACT,MAAI,CAAC5B,QAAL,CAAc,iBAAO,CAACO,YAAY,CAAEqB,GAAG,CAACC,IAAnB,CAAP,EAAd,EACH,CAHD,EAIH,C,qDA6Bc,CACX,GAAMC,CAAAA,eAAe,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAxB,CAEA,GAAIC,CAAAA,GAAG,WAAM,KAAKtC,QAAX,SAAP,CACA,GAAIgC,CAAAA,IAAI,CAAG,CACP3B,EAAE,CAAE,KAAKG,KAAL,CAAWH,EADR,CAEPa,SAAS,CAAE,KAAKV,KAAL,CAAWU,SAFf,CAGPC,QAAQ,CAAE,KAAKX,KAAL,CAAWW,QAHd,CAIPC,QAAQ,CAAE,KAAKZ,KAAL,CAAWY,QAJd,CAKP,WAAYa,eAAe,CAACM,KALrB,CAMPjB,QAAQ,CAAE,KAAKd,KAAL,CAAWc,QANd,CAOPC,QAAQ,CAAE,KAAKf,KAAL,CAAWe,QAPd,CAQPC,WAAW,CAAE,KAAKhB,KAAL,CAAWgB,WARjB,CASPC,OAAO,CAAE,KAAKjB,KAAL,CAAWiB,OATb,CAAX,CAWAe,OAAO,CAACC,GAAR,CAAYT,IAAZ,EACApC,KAAK,CAAC8C,IAAN,CAAWJ,GAAX,CAAgBN,IAAhB,EACA,KAAK7B,QAAL,CAAc,CACV;AACAe,SAAS,CAAE,EAFD,CAGVC,QAAQ,CAAE,EAHA,CAIVC,QAAQ,CAAC,EAJC,CAKVE,QAAQ,CAAE,EALA,CAMVC,QAAQ,CAAE,EANA,CAOVC,WAAW,CAAE,EAPH,CAQVC,OAAO,CAAE,EARC,CAAd,EAUA,KAAK1B,KAAL,CAAW4C,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EACH,C,uCAEQ,CACL,mBACI,4CACI,2BAAK,SAAS,CAAC,KAAf,eACA,0BAAI,SAAS,CAAC,MAAd,0BAA6B,8BAA7B,CADA,cAEI,8BAFJ,CADJ,cAKI,4BAAM,SAAS,CAAC,WAAhB,eACI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,SAAS,CAAC,YAAjB,SADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,WAA/C,CAA2D,QAAQ,CAAE,KAAK3C,WAA1E,CAAuF,KAAK,CAAE,KAAKO,KAAL,CAAWU,SAAzG,EAFJ,CADJ,CADJ,cAOI,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,SAAS,CAAC,YAAjB,aADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,UAA/C,CAA0D,QAAQ,CAAE,KAAKjB,WAAzE,CAAsF,KAAK,CAAE,KAAKO,KAAL,CAAWW,QAAxG,EAFJ,CADJ,CAPJ,CADJ,cAeI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,SAAS,CAAC,YAAjB,UADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,EAAE,CAAC,UAA/C,CAA0D,QAAQ,CAAE,KAAKlB,WAAzE,CAAsF,KAAK,CAAE,KAAKO,KAAL,CAAWY,QAAxG,EAFJ,CADJ,CADJ,CAfJ,cAuBI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,SAAS,CAAC,YAAjB,YADJ,cAEI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,EAAE,CAAC,SAApC,CAA8C,QAAQ,CAAE,KAAKnB,WAA7D,eACI,8BAAQ,KAAK,CAAE,CAAf,EADJ,CAGQ,KAAKO,KAAL,CAAWE,YAAX,CAAwBmC,GAAxB,CAA4B,SAACC,IAAD,CAAU,CAClC,mBACI,8BAAQ,KAAK,CAAEA,IAAI,CAACC,SAApB,EAAgCD,IAAI,CAACE,WAArC,CADJ,CAGH,CAJD,CAHR,CAFJ,CADJ,CADJ,cAgBI,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,SAAS,CAAC,YAAjB,gBADJ,cAEI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,EAAE,CAAC,aAApC,CAAkD,QAAQ,CAAE,KAAK/C,WAAjE,eACI,8BAAQ,KAAK,CAAE,CAAf,EADJ,CAGQ,KAAKO,KAAL,CAAWC,gBAAX,CAA4BoC,GAA5B,CAAgC,SAACC,IAAD,CAAU,CACtC,mBACI,8BAAQ,KAAK,CAAEA,IAAI,CAACG,aAApB,EAAoCH,IAAI,CAACI,eAAzC,CADJ,CAGH,CAJD,CAHR,CAFJ,CADJ,CAhBJ,cA+BI,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,SAAS,CAAC,YAAjB,aADJ,cAEI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,EAAE,CAAC,UAApC,CAA+C,QAAQ,CAAE,KAAKjD,WAA9D,eACI,8BAAQ,KAAK,CAAE,CAAf,EADJ,CAGQ,KAAKO,KAAL,CAAWS,aAAX,CAAyB4B,GAAzB,CAA6B,SAACC,IAAD,CAAU,CACnC,mBACI,8BAAQ,KAAK,CAAEA,IAAI,CAACK,UAApB,EAAiCL,IAAI,CAACM,YAAtC,CADJ,CAGH,CAJD,CAHR,CAFJ,CADJ,CA/BJ,cA8CI,2BAAK,SAAS,CAAC,QAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,SAAS,CAAC,YAAjB,aADJ,cAEI,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,EAAE,CAAC,UAApC,CAA+C,QAAQ,CAAE,KAAKnD,WAA9D,eACI,8BAAQ,KAAK,CAAE,CAAf,EADJ,CAGQ,KAAKO,KAAL,CAAWQ,aAAX,CAAyB6B,GAAzB,CAA6B,SAACC,IAAD,CAAU,CACnC,mBACI,8BAAQ,KAAK,CAAEA,IAAI,CAACO,UAApB,EAAiCP,IAAI,CAACQ,YAAtC,CADJ,CAGH,CAJD,CAHR,CAFJ,CADJ,CA9CJ,CAvBJ,cAqFI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,OAAO,CAAE,KAAK3B,aAAhE,SArFJ,CALJ,CADJ,CA+FH,C,sBAtNkBhC,S,EAyNvB,cAAe,SAAS4D,CAAAA,UAAT,CAAoBxD,KAApB,CAA2B,CACtC,GAAM4C,CAAAA,OAAO,CAAG9C,UAAU,EAA1B,CACA,mBAAQ,oBAAC,QAAD,kBAAcE,KAAd,EAAqB,OAAO,CAAE4C,OAA9B,GAAR,CACH","sourcesContent":["import React, {Component} from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nclass Register extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list_province: [],\n            list_district: [],\n            list_subdistrict: [],\n            list_village: [],\n            // idkey:\"\",\n            firstname: \"\",\n            lastname: \"\",\n            phonenum:\"\",\n            Regisby: \"\",\n            province: \"\",\n            district: \"\",\n            subdistrict: \"\",\n            village: \"\"\n        }\n        this.handleChang = this.handleChang.bind(this);\n        this.handleClicked = this.handleClicked.bind(this);\n        \n    }\n\n    componentDidMount() {\n        document.getElementById('district').disabled = true;\n        document.getElementById('subdistrict').disabled = true;\n        document.getElementById('village').disabled = true;\n\n        this.getProvinces();\n    }\n    \n    _baseURL = '';\n\n    getProvinces() {\n        axios.get('/provinces')\n        .then(res => {\n            this.setState(() => ({list_province: res.data}));\n        });\n    }\n\n    getDistricts(value) {\n        axios.get(`/districts?provinceId=${value}`)\n        .then(res => {\n            this.setState(() => ({list_district: res.data}));\n        });\n    }\n\n    getSubDistricts(value) {\n        axios.get(`/subdistricts?districtId=${value}`)\n        .then(res => {\n            this.setState(() => ({list_subdistrict: res.data}));\n        });\n    }\n\n    getVillage(value) {\n        axios.get(`/villages?subdistrictId=${value}`)\n        .then(res => {\n            this.setState(() => ({list_village: res.data}));\n        });\n    }\n\n    handleChang = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n\n        switch(e.target.id) {\n            case 'province':\n                this.getDistricts(e.target.value);\n                this.state.list_subdistrict = [];\n                this.state.list_village = [];\n                document.getElementById('district').disabled = e.target.value === \"0\" ? true : false;\n                document.getElementById('subdistrict').disabled = true;\n                document.getElementById('village').disabled = true;\n                break;\n            case 'district':\n                this.getSubDistricts(e.target.value);\n                this.state.list_village = [];\n                document.getElementById('subdistrict').disabled = e.target.value === \"0\" ? true : false;\n                document.getElementById('village').disabled = true;\n                break;\n            case 'subdistrict':\n                this.getVillage(e.target.value);\n                document.getElementById('village').disabled = e.target.value === \"0\" ? true : false;\n                break;\n        }\n    }\n\n    handleClicked(){\n        const resLocalStorage = JSON.parse(localStorage.getItem('user'));\n\n        let url = `${this._baseURL}/data`;\n        let data = {\n            id: this.state.id,\n            firstname: this.state.firstname,\n            lastname: this.state.lastname,\n            phonenum: this.state.phonenum,\n            'Regis-by': resLocalStorage.email,\n            province: this.state.province,\n            district: this.state.district,\n            subdistrict: this.state.subdistrict,\n            village: this.state.village,\n        }\n        console.log(data)\n        axios.post(url, data);\n        this.setState({\n            // user_id: \"\",\n            firstname: \"\",\n            lastname: \"\",\n            phonenum:\"\",\n            province: \"\",\n            district: \"\",\n            subdistrict: \"\",\n            village: \"\"\n        });\n        this.props.history.push('/Showdata');\n    }\n\n    render() {\n        return(\n            <div>\n                <div className=\"App\">\n                <h2 className=\"my-4\">Register<br/></h2>\n                    <hr/>\n                </div>\n                <form className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md\">\n                            <div className=\"form-group\">\n                                <label className=\"text-white\">Name</label>\n                                <input type=\"text\" className=\"form-control\" id=\"firstname\" onChange={this.handleChang} value={this.state.firstname}/>\n                            </div>\n                        </div>\n                        <div className=\"col-md\">\n                            <div className=\"form-group\">\n                                <label className=\"text-white\">Lastname</label>\n                                <input type=\"text\" className=\"form-control\" id=\"lastname\" onChange={this.handleChang} value={this.state.lastname}/>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md\">\n                            <div className=\"form-group\">\n                                <label className=\"text-white\">Phone</label>\n                                <input type=\"text\" className=\"form-control\" id=\"phonenum\" onChange={this.handleChang} value={this.state.phonenum}/>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md\">\n                            <div className=\"form-group\">\n                                <label className=\"text-white\">Village</label>\n                                <select className=\"form-control\" id=\"village\" onChange={this.handleChang} >\n                                    <option value={0}></option>\n                                    {\n                                        this.state.list_village.map((item) => {\n                                            return(\n                                                <option value={item.villageId}>{item.villageName}</option>\n                                            );\n                                        })\n                                    }\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"col-md\">\n                            <div className=\"form-group\">\n                                <label className=\"text-white\">Subdistrict</label>\n                                <select className=\"form-control\" id=\"subdistrict\" onChange={this.handleChang} >\n                                    <option value={0}></option>\n                                    {\n                                        this.state.list_subdistrict.map((item) => {\n                                            return(\n                                                <option value={item.subdistrictId}>{item.subdistrictName}</option>\n                                            );\n                                        })\n                                    }\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"col-md\">\n                            <div className=\"form-group\">\n                                <label className=\"text-white\">District</label>\n                                <select className=\"form-control\" id=\"district\" onChange={this.handleChang} >\n                                    <option value={0}></option>\n                                    {\n                                        this.state.list_district.map((item) => {\n                                            return(\n                                                <option value={item.districtId}>{item.districtName}</option>\n                                            );\n                                        })\n                                    }\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"col-md\">\n                            <div className=\"form-group\">\n                                <label className=\"text-white\">Province</label>\n                                <select className=\"form-control\" id=\"province\" onChange={this.handleChang}>\n                                    <option value={0}></option>\n                                    {\n                                        this.state.list_province.map((item) => {\n                                            return(\n                                                <option value={item.provinceId}>{item.provinceName}</option>\n                                            );\n                                        })\n                                    }\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.handleClicked}>Save</button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default function WithRouter(props) {\n    const history = useHistory();\n    return (<Register {...props} history={history} />);\n}"]},"metadata":{},"sourceType":"module"}